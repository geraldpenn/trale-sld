161d160
< 
710a710,714
> %write(Words),nl,
> %write(Desc),nl,
> % write('FS: '), write(FS),nl,
> %write(Residue),nl,
> %write(Index),nl,
733a738,759
> portray_fs_standalone(Label,FS) :-
>   grale_flag,
>   list_to_double_quoted_string([Label],DQString),
>   append("!newdata",DQString,GraleCommandPrefix),
>   grale_write_chars(GraleCommandPrefix),
>   \+ \+ (empty_assoc(AssocIn),
>          duplicates(FS,AssocIn,Dups,AssocIn,_,0,Num),
>          put_assoc(id_index,AssocIn,Num,HD),
>          pp_fs(FS,0,Dups,_,AssocIn,_,0,HD,_)),
>   grale_nl,
>   grale_flush_output.
> 
> % KE: TODO maybe encapsulate this again and provide a predicate to portray any number of "interconnected" FSs
> portray_fs_standalone(Label,FS,DupsIn,DupsOut,VisIn,VisOut,Num,HDIn,HDOut) :-
>   grale_flag,
>   list_to_double_quoted_string([Label],DQString),
>   append("!newdata",DQString,GraleCommandPrefix),
>   grale_write_chars(GraleCommandPrefix),
>   pp_fs(FS,0,DupsIn,DupsOut,VisIn,VisOut,Num,HDIn,HDOut),
>   grale_nl,
>   grale_flush_output.
> 
860c886,887
< % this catches the pp_fs/1 call in portray_cat/4
---
> % this catches the pp_fs/1 call in portray_cat/5
> % KE: TODO: enable support of tagged FSs on the top level
861a889,897
> %write(Type), nl,
> %write(FS), nl,
> %write(MGType), nl,
> %write(KeyedFeats), nl,
> %write(VisIn), nl,
> %write(DupsIn), nl,
> %write(Col), nl,
> %write(HDIn), nl,
> %write(HDOut), nl,
1181a1218,1223
> :- dynamic redirect_grale_output_to_tralesld/1.
> 
> grale_write_chars(Chars) :-
>   redirect_grale_output_to_tralesld(StepID),
>   !,
>   tralesld_grale_message_chunk(StepID,Chars).
1188a1231,1236
>   redirect_grale_output_to_tralesld(StepID),
>   !,
>   tralesld_grale_message_chunk(StepID,[10]),
>   tralesld_grale_message_end(StepID).
> 
> grale_nl :-
1192a1241,1244
>   redirect_grale_output_to_tralesld(_),
>   !.
> 
> grale_flush_output :-
